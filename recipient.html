<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
  <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous"></script>

  <style>
      ::-webkit-scrollbar { display: none; }

      body {
        font-family: 'Noto Sans KR', sans-serif;
        background: #F7F8FA;
      }

      /* 별 아이콘 색상 */
      .star {
        cursor: pointer;
        transition: color 0.2s ease, transform 0.15s ease;
      }
      .star:hover {
        transform: scale(1.1);
      }
      .star.selected {
        color: #FFD700; /* 노란색 */
      }
  </style>

  <script>
      tailwind.config = {
          theme: {
              extend: {
                  fontFamily: {
                      'noto-sans-kr': ['"Noto Sans KR"', 'sans-serif'],
                  },
                  colors: {
                      'brand-gray': {
                          '50': '#F7F8FA',
                          '100': '#E8E8E8',
                          '200': '#E5E7EB',
                          '300': '#A9A9A9',
                          '500': '#6B6B6B',
                          '700': '#444444',
                          '800': '#1F2937'
                      },
                      'brand-blue': {
                          'light': '#EFF6FF',
                          'DEFAULT': '#74B5E3'
                      },
                      'brand-yellow': {
                          'light': '#FFFBEB'
                      }
                  }
              }
          }
      }
  </script>
</head>

<body class="bg-brand-gray-50 font-noto-sans-kr text-brand-gray-700">
  <div id="mobile-screen-container" class="max-w-md mx-auto min-h-[100vh] bg-brand-gray-50 flex flex-col">

      <!-- ✅ Header -->
      <header id="header" class="sticky top-0 z-10 w-full bg-white border-b border-gray-200">
          <div class="relative flex items-center justify-center h-16 px-4">
              <!-- 🔙 뒤로가기 버튼 -->
              <button class="absolute left-4" onclick="window.history.back()">
                  <i class="fa-solid fa-chevron-left text-lg text-brand-gray-500"></i>
              </button>
              <h1 class="text-lg font-medium text-brand-gray-700">편지 상세</h1>
          </div>
      </header>

      <!-- ✅ Main -->
      <main id="letter-content" class="flex-grow w-full px-5 py-6">
          <div id="letter-thread" class="space-y-4">

              <!-- 내가 보낸 편지 -->
              <section id="sent-letter" class="bg-white rounded-2xl p-6 shadow-sm">
                  <div class="flex items-center mb-5">
                      <div class="w-14 h-14 rounded-full overflow-hidden mr-4 border-2 border-gray-200 flex-shrink-0">
                          <img class="w-full h-full object-cover" 
                              src="https://storage.googleapis.com/uxpilot-auth.appspot.com/30c6f840e8-4f0a5e2c7e59e9b43bd7.png" 
                              alt="할아버지 프로필" />
                      </div>
                      <div>
                          <p class="font-bold text-gray-800">할아버지</p>
                          <p class="text-sm text-brand-gray-300 mt-1">25.10.03 (토)</p>
                          <p class="text-sm text-brand-gray-300">내가 보낸 편지</p>
                      </div>
                  </div>

                  <div class="bg-brand-blue-light rounded-xl p-5 text-gray-700 leading-relaxed space-y-4">
                      <p>할아버지 보고 싶어요.<br>요즘 어떻게 지내세요?</p>
                      <p>날씨가 갑자기 추워졌어요<br>거기는 날씨가 어때요?</p>
                      <p>벌써 추석이 왔네요 가족들끼리 맛있는 음식도 먹고 다들 하하호호 즐겁게 추석을 보내고 있어요</p>
                      <p>그런데 할아버지가 너무 보고싶어요<br>할아버지는 그곳에서 맛있는 거 많이 드시고 계신 거죠?</p>
                      <p>곧 뵈러 갈게요!</p>
                  </div>
              </section>

              <div class="flex justify-center py-2">
                  <i class="fa-solid fa-arrow-down text-brand-gray-300"></i>
              </div>

              <!-- 답장 받은 편지 -->
              <section id="received-letter" class="bg-white rounded-2xl p-6 shadow-sm">
                  <p class="text-sm text-brand-gray-300 mb-5">답장 받은 편지</p>
                  <div class="bg-brand-yellow-light rounded-xl p-5 text-gray-700 leading-relaxed space-y-4">
                      <p>그래, 벌써 추석이구나<br>나는 잘 지낸다. 너도 몸 조리 잘하고 여긴 맛있는 것도 많고 재미난 것들도 많구나!</p>
                      <p>내 걱정은 안해도 된단다.<br>나도 우리 손자가 많이 많이 보고 싶어</p>
                      <p>우리 손자 ~ 할애비 걱정은 그만하고<br>맛있는 거 많이 먹고 늘 건강히 지내거라!<br>할아버지가 늘 응원하고 있으마!</p>
                  </div>
              </section>

              <!-- 피드백 -->
              <section id="feedback-section" class="bg-white rounded-2xl p-6 shadow-sm mt-4">
                  <h2 class="text-lg font-medium text-brand-gray-800 mb-4">이 답장은 어떠셨나요?</h2>
                  <div id="star-rating" class="flex items-center space-x-2 text-brand-gray-300 mb-6">
                      <i class="fa-solid fa-star text-3xl star"></i>
                      <i class="fa-solid fa-star text-3xl star"></i>
                      <i class="fa-solid fa-star text-3xl star"></i>
                      <i class="fa-solid fa-star text-3xl star"></i>
                      <i class="fa-solid fa-star text-3xl star"></i>
                  </div>
                  <textarea id="feedback-textarea" 
                            class="w-full h-28 p-4 border border-brand-gray-100 rounded-lg resize-none placeholder-brand-gray-300 focus:outline-none focus:ring-2 focus:ring-brand-blue" 
                            placeholder="소감을 남겨주세요 (선택사항)"></textarea>
              </section>

          </div>
      </main>

      <!-- ✅ Footer -->
      <footer id="footer" class="sticky bottom-0 w-full bg-brand-gray-50 px-5 pt-4 pb-6">
          <button id="reply-button" 
                  class="w-full bg-brand-blue text-white py-4 rounded-xl text-lg font-bold hover:bg-opacity-90 transition-colors">
              답장하기
          </button>
      </footer>

  </div>

  <script>
    // ⭐ 별점 기능
    const stars = document.querySelectorAll('.star');
    stars.forEach((star, idx) => {
      star.addEventListener('click', () => {
        stars.forEach((s, i) => {
          if (i <= idx) {
            s.classList.add('selected'); // 클릭한 별 이하 모두 활성화
          } else {
            s.classList.remove('selected');
          }
        });
      });
    });

    // 📩 답장하기 버튼 → letter.html로 이동
    const replyButton = document.getElementById('reply-button');
    replyButton.addEventListener('click', () => {
      window.location.href = 'letter.html';
    });
  </script>
</body>
</html>
